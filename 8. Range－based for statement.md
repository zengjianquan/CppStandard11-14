## ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªä¾¯æ·è€å¸ˆè§‰å¾—éå¸¸å¥½ç”¨çš„ä¸€ä¸ªç‰¹æ€§ğŸ˜Š

![1686969711955](image/1686969711955.png)

å¦‚ä¸Šå›¾ï¼Œfor å¾ªç¯ä¸€èˆ¬åˆ†ä¸ºä¸‰æ®µï¼Œç„¶è€Œåœ¨ c++2.0 åï¼Œå‡ºç°äº†ä¸€ç§æ–°å†™æ³•ï¼Œè§„åˆ™å¦‚<u>*ç°è‰²æ‰“åº•éƒ¨åˆ†*</u>ã€‚è¿™ä¸ªå¾ªç¯è¢«ç§°ä¸º **èŒƒå›´ for å¾ªç¯**

è¿™ä¸ªè¯­æ³•æ˜¯å°† **: åé¢**çš„å…ƒç´ ä¸€ä¸ªä¸€ä¸ªèµ‹å€¼åˆ° **: å‰é¢**ï¼Œç„¶åè¿›è¡Œå¾ªç¯ä½“ã€‚

åŒæ ·çš„ï¼Œ<u>*å¦‚ä¸‹åŠéƒ¨åˆ†*</u>å¯¹ vector çš„å¾ªç¯æ“ä½œï¼Œå¯ä»¥å°†å˜é‡è®¾ç½®ä¸º **& å¼•ç”¨**ã€‚

## ç¼–è¯‘å™¨çš„è§£é‡Š

![1686970244408](image/1686970244408.png)

å¯¹äºèŒƒå›´ for å¾ªç¯ï¼Œ**ç¼–è¯‘å™¨åšçš„è§£é‡Š**å¯ä»¥è§£é‡Šä¸º <u>*ä¸Šå›¾éƒ¨åˆ†*</u> ä»£ç ï¼š

> å€¼ä¼ é€’ï¼ˆ<u>*ä¸ŠåŠéƒ¨åˆ†*</u>ï¼‰ï¼š
>
> â€‹	å°† **: åé¢** çš„å®¹å™¨çš„<u>***è¿­ä»£å™¨å–å‡ºæ¥***</u>ï¼Œç„¶åå°†<u>***è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ èµ‹å€¼***</u>ç»™ **: å‰é¢** çš„å˜é‡
>
> â€‹	æˆ–è€…è¯´é€šè¿‡**å…¨å±€çš„ è¿­ä»£å™¨ å‡½æ•°**å–å‡ºè¿­ä»£å™¨ï¼Œç„¶åè¿›è¡Œä¸Šè¿°æ“ä½œã€‚
>
> å¼•ç”¨ä¼ é€’ï¼ˆ<u>*ä¸‹åŠéƒ¨åˆ†*</u>ï¼‰ï¼š
>
> â€‹	å’Œå€¼ä¼ é€’å¤§è‡´ç›¸åŒï¼Œéƒ½æ˜¯å–å‡ºè¿­ä»£å™¨ï¼Œç„¶åä»è¿­ä»£å™¨ä¸­è·å–å…ƒç´ ã€‚

## å®ç°ä¸€ä¸ªæ”¯æŒ Range-based for çš„ç±»

è¿™æ˜¯ä¸€ä¸ªè¡¥å……å†…å®¹ï¼ŒåŸºäº [åšå®¢: C++11 å†™ä¸€ä¸ªæ”¯æŒåŸºäºèŒƒå›´çš„forå¾ªç¯çš„ç±»](https://blog.csdn.net/HandsomeHong/article/details/114860082) åšçš„ä¸€ä¸ªå®éªŒã€‚

> 1.**æœ‰ begin å’Œ end æ–¹æ³•**ã€‚ç”±äºåœ¨èŒƒå›´ for å¾ªç¯æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå»é€šè¿‡è°ƒç”¨ begin å’Œ end æ¥è·å–å¼€å§‹å’Œç»“æŸçš„è¿­ä»£å™¨ï¼Œæ‰€ä»¥å®ç°ä¸€ä¸ªæ”¯æŒèŒƒå›´ for å¾ªç¯çš„ç±»å¿…é¡»æœ‰è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚
>
> 2.è¿­ä»£å™¨å¿…é¡»æ”¯æŒ *****, **!=**, **++**ã€‚å³è¿­ä»£å™¨å¿…é¡»å®ç° **è§£å¼•ç”¨**ã€**ä¸ç­‰äº** å’Œ **è‡ªå¢** æ“ä½œç¬¦ã€‚
>
> â€‹	æ³¨æ„ï¼šè¿™é‡Œçš„ ++ æŒ‡çš„æ˜¯**å‰ç½® ++**ï¼Œå…·ä½“å¯ä»¥çœ‹ <u>STLå’Œæ³›å‹ç¼–ç¨‹.11.æ·±åº¦æ¢ç´¢list</u>ï¼Œè¿™èŠ‚è¯¾çš„ç¬”è®°ä¸­æœ‰å±•ç¤ºå¦‚ä½•å¯¹è¿­ä»£å™¨è¿›è¡Œ **å‰ç½®/åç½® ++** çš„è®¾è®¡ã€‚

```C++
template<typename T>
class IterRangeBaseFor {
private:
	typedef IterRangeBaseFor<T> Self;

public:
	T* val;

public:
	// è§£å¼•ç”¨
	T& operator*() {
		return *val;
	}

	// != åˆ¤æ–­
	bool operator!=(const IterRangeBaseFor<T>& other) const{
		return val != other.val;
	}

	//å‰ç½® ++, æ²¡æœ‰å‚æ•°
	Self& operator++() {
		val++;
		return *this;
	}

	//åç½® ++
	Self operator++(int) {
		Self self = *this;
		++(*this);
		return self;
	}
};


class RangeBaseFor {
private:
	typedef IterRangeBaseFor<int> Iterator;

private:
	int val[10];
	Iterator IterBegin;
	Iterator IterEnd;

public:
	RangeBaseFor() {
		for (int i = 0; i < 10; i++)
			val[i] = i;

		IterBegin.val = val;
		IterEnd.val = val + 10;
	}

public:
	/*
	* Range-base for loop
	*/
	Iterator begin() {
		return IterBegin;
	}

	Iterator end() {
		return IterEnd;
	}
};

int main()
{
	RangeBaseFor rangeBaseFor;

	for (int i : rangeBaseFor) {
		std::cout << i << " ";
	}
}

/*
* result:
* 0 1 2 3 4 5 6 7 8 9
*/
```

å¦‚ä¸Šè¿°ä»£ç å±•ç¤ºï¼Œclass RangeBaseFor æ˜¯ä¸€ä¸ªæ”¯æŒèŒƒå›´ for å¾ªç¯çš„ç±»ã€‚

